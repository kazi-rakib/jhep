      PROGRAM NTUPLE_MAKER
      INTEGER NRECORDS,NEVENTS,R,E
      INTEGER MAX_ROWS
      INTEGER PID(20), CHARGE(20), STATUS(20), NROWS
      REAL PX(20),PY(20),PZ(20)

      MAX_ROWS = 20
      CALL OPEN_HIPO(NRECORDS,'infile.hipo')
      WRITE(*,*) 'NRECORDS = ', NRECORDS
      DO R=1,NRECORDS
        CALL READ_RECORD(R,NEVENTS)
        DO E=1,NEVENTS
          CALL READ_EVENT(E)
          CALL READ_NODE_INT(22, 1,NROWS,PID)
          CALL READ_NODE_INT(22, 8,NROWS,CHARGE)
          CALL READ_NODE_INT(22,12,NROWS,STATUS)
          CALL READ_NODE_FLOAT(22,2,NROWS,PX)
          CALL READ_NODE_FLOAT(22,3,NROWS,PY)
          CALL READ_NODE_FLOAT(22,4,NROWS,PZ)
          WRITE(*,*) 'ROWS = ', NROWS
          WRITE(*,*) (PID(j),J=1,NROWS)
          WRITE(*,*) (CHARGE(j),J=1,NROWS)
          WRITE(*,*) (STATUS(j),J=1,NROWS)
          WRITE(*,*) (PX(J), J=1,NROWS)
          WRITE(*,*) (PY(J), J=1,NROWS)
          WRITE(*,*) (PZ(J), J=1,NROWS)
        ENDDO
      ENDDO
      END
